{% extends 'main/layout.html' %}
{% load static %}

{% block title %}
Интернет-магазин ROZETKA
{% endblock %}

{% block content %}
<!-- left conteiner start -->

<div class="main-wrapper">
	<div class="left-conteiner">
		{% for el in category %}
		<ul>
			<li>
				<a href="{{ el.get_absolute_url }}">
					{% if el.image %}
					<img src="{{ el.image.url }}" alt="iсon">
					{% endif %}
					{{ el.name }}
				</a>
			</li>
		</ul>
		{% endfor %}
		<hr>
	</div>

	<!-- left conteiner end -->


	<!-- right conteiner start -->

	<div class="main-content">
		<div class="image-slider">
			<div class="slider-controls">
				<div class="slider-control prev" onclick="prevSlide()">&#10094;</div>
				<div class="slider-control next" onclick="nextSlide()">&#10095;</div>
			</div>
			<img class="slider__img active" src="{% static 'main/img/11.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/12.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/13.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/15.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/16.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/17.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/18.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/19.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/20.jpg' %}" alt="slider_img">
			<img class="slider__img" src="{% static 'main/img/21.jpg' %}" alt="slider_img">
			<hr>
		</div>
		<!-- withdrawal of all goods -->
		<div class="conclusion-products">
			<h4>Больше товаров для выбора</h4><br>
			<div class="grid-products">
				{% for el in washingMachine_list %}
				<div class="product">
					<a href="">
						<img src="{{ el.image.url }}" alt="photo"><br>
						<p style="margin-top: 10px;">{{ el.name | truncatewords:2 }}</p>
					</a>
						{{ el.price }} ₴
				</div>
				{% endfor %}
			</div>
		</div>
	</div>
</div>

<!-- right conteiner end -->

<script>
	var indexValue = 0;
	var timer;

	function SlideShow() {
		timer = setTimeout(SlideShow, 3500)
		var x;
		const elements = document.querySelectorAll('.slider__img');
		for (x = 0; x < elements.length; x++) {
			elements[x].style.display = "none";
		}
		indexValue++;
		if (indexValue > elements.length) {
			indexValue = 1;
		}
		elements[indexValue - 1].style.display = "block";
	}
	SlideShow();

	function prevSlide() {
		clearTimeout(timer);
		const elements = document.querySelectorAll('.slider__img');
		if (indexValue == 1) {
			indexValue = elements.length;
		} else {
			indexValue--;
		}
		for (let i = 0; i < elements.length; i++) {
			elements[i].style.display = "none";
		}
		elements[indexValue - 1].style.display = "block";
	}

	function nextSlide() {
		clearTimeout(timer);
		const elements = document.querySelectorAll('.slider__img');
		if (indexValue == elements.length) {
			indexValue = 1;
		} else {
			indexValue++;
		}
		for (let i = 0; i < elements.length; i++) {
			elements[i].style.display = "none";
		}
		elements[indexValue - 1].style.display = "block";
	}
</script>

{% endblock %}